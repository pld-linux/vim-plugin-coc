From ed1e2cb3fc69ca028993a75fe68c3f237961ed2b Mon Sep 17 00:00:00 2001
From: Julian Grinblat <julian@dotcore.co.il>
Date: Mon, 12 Jul 2021 18:47:08 +0900
Subject: [PATCH 1/3] Fix command with complete but no nargs

---
 plugin/coc.vim | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/plugin/coc.vim b/plugin/coc.vim
index 010406096d..7541d3f84d 100644
--- a/plugin/coc.vim
+++ b/plugin/coc.vim
@@ -481,7 +481,7 @@ command! -nargs=+ -complete=custom,s:ExtensionList  CocUninstall :call CocAction
 command! -nargs=* -complete=custom,s:CommandList -range CocCommand :call coc#rpc#notify('runCommand', [<f-args>])
 command! -nargs=* -complete=custom,coc#list#options CocList      :call coc#rpc#notify('openList',  [<f-args>])
 command! -nargs=? -complete=custom,coc#list#names CocListResume   :call coc#rpc#notify('listResume', [<f-args>])
-command! -nargs=0 -complete=custom,coc#list#names CocListCancel   :call coc#rpc#notify('listCancel', [])
+command! -nargs=0 CocListCancel   :call coc#rpc#notify('listCancel', [])
 command! -nargs=? -complete=custom,coc#list#names CocPrev         :call coc#rpc#notify('listPrev', [<f-args>])
 command! -nargs=? -complete=custom,coc#list#names CocNext         :call coc#rpc#notify('listNext', [<f-args>])
 command! -nargs=? -complete=custom,coc#list#names CocFirst        :call coc#rpc#notify('listFirst', [<f-args>])

From 7ebea9e4f33f9d40347ef2e3440a2b1e25f9b3a3 Mon Sep 17 00:00:00 2001
From: Julian Grinblat <julian@dotcore.co.il>
Date: Mon, 12 Jul 2021 20:29:15 +0900
Subject: [PATCH 2/3] Fix

---
 plugin/coc.vim | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/plugin/coc.vim b/plugin/coc.vim
index 7541d3f84d..e817f945b1 100644
--- a/plugin/coc.vim
+++ b/plugin/coc.vim
@@ -481,7 +481,7 @@ command! -nargs=+ -complete=custom,s:ExtensionList  CocUninstall :call CocAction
 command! -nargs=* -complete=custom,s:CommandList -range CocCommand :call coc#rpc#notify('runCommand', [<f-args>])
 command! -nargs=* -complete=custom,coc#list#options CocList      :call coc#rpc#notify('openList',  [<f-args>])
 command! -nargs=? -complete=custom,coc#list#names CocListResume   :call coc#rpc#notify('listResume', [<f-args>])
-command! -nargs=0 CocListCancel   :call coc#rpc#notify('listCancel', [])
+command! -nargs=? CocListCancel   :call coc#rpc#notify('listCancel', [])
 command! -nargs=? -complete=custom,coc#list#names CocPrev         :call coc#rpc#notify('listPrev', [<f-args>])
 command! -nargs=? -complete=custom,coc#list#names CocNext         :call coc#rpc#notify('listNext', [<f-args>])
 command! -nargs=? -complete=custom,coc#list#names CocFirst        :call coc#rpc#notify('listFirst', [<f-args>])

From c1040a75e5f6feffb48904da416e5ba077d2e8b7 Mon Sep 17 00:00:00 2001
From: Julian Grinblat <julian@dotcore.co.il>
Date: Mon, 12 Jul 2021 21:09:18 +0900
Subject: [PATCH 3/3] Final fix

---
 plugin/coc.vim | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/plugin/coc.vim b/plugin/coc.vim
index e817f945b1..80c2a8d6b8 100644
--- a/plugin/coc.vim
+++ b/plugin/coc.vim
@@ -481,7 +481,7 @@ command! -nargs=+ -complete=custom,s:ExtensionList  CocUninstall :call CocAction
 command! -nargs=* -complete=custom,s:CommandList -range CocCommand :call coc#rpc#notify('runCommand', [<f-args>])
 command! -nargs=* -complete=custom,coc#list#options CocList      :call coc#rpc#notify('openList',  [<f-args>])
 command! -nargs=? -complete=custom,coc#list#names CocListResume   :call coc#rpc#notify('listResume', [<f-args>])
-command! -nargs=? CocListCancel   :call coc#rpc#notify('listCancel', [])
+command! -nargs=? -complete=custom,coc#list#names CocListCancel   :call coc#rpc#notify('listCancel', [])
 command! -nargs=? -complete=custom,coc#list#names CocPrev         :call coc#rpc#notify('listPrev', [<f-args>])
 command! -nargs=? -complete=custom,coc#list#names CocNext         :call coc#rpc#notify('listNext', [<f-args>])
 command! -nargs=? -complete=custom,coc#list#names CocFirst        :call coc#rpc#notify('listFirst', [<f-args>])
